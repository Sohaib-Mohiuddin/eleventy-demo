<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Decoupled 11ty site with Tailwind and CMS">
  <link rel="stylesheet" href="/assets/styles.css">
</head>
<body class="min-h-screen bg-gray-50 text-gray-900 antialiased">
  <header class="mx-auto max-w-4xl px-6 py-10">
    <nav class="flex items-center justify-between">
      <a href="/" class="text-xl font-semibold">Eleventy Docker Demo</a>
      <div class="space-x-4">
        <a href="/" class="hover:underline">Home</a>
        <a href="/posts/" class="hover:underline">Blog</a>
        <a href="/admin/" class="hover:underline">CMS</a>
      </div>
    </nav>
  </header>

  <main class="mx-auto max-w-4xl px-6 prose">
    # Blog

<ul>

  <li>
    <a href="/posts/third-post/">Third Post</a>
    <small>— 2025-09-23</small>
  </li>

  <li>
    <a href="/posts/second-post/">Second Post</a>
    <small>— 2025-09-22</small>
  </li>

  <li>
    <a href="/posts/hello-world/">Hello World</a>
    <small>— 2025-09-17</small>
  </li>

</ul>

  </main>

  <footer class="mx-auto max-w-4xl px-6 py-10">
    <p class="text-sm text-gray-500">
      © 2025 Eleventy Docker Demo.
    </p>
  </footer>

  <script>
    (function () {
      // Only run on Netlify production (optional; remove if you want it locally too)
      // if (!location.hostname.endsWith('.netlify.app') && location.hostname !== 'your.custom.domain') return;

      // If the URL hash contains Netlify Identity tokens, forward to /auth/ with the same hash.
      // Netlify Identity uses these common hash parameters:
      //   #invite_token=..., #recovery_token=..., #confirmation_token=..., #access_token=...
      var h = (location.hash || '').toLowerCase();
      if (/#(invite_token|recovery_token|confirmation_token|access_token)=/.test(h)) {
        // Preserve the entire hash so the /auth page can process it
        location.replace('/auth/' + location.hash);
      }
    })();
  </script>
</body>
</html>
